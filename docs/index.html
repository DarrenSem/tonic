<html>
  <head>
    <title>Tonic: Component Based Architecture</title>
    <link href="https://fonts.googleapis.com/css?family=EB+Garamond|Source+Code+Pro:500,700" rel="stylesheet">

    <style>
      * {
        box-sizing: border-box;
      }

      body {
        font: 20px 'EB Garamond', serif;
        padding: 80px 0;
        margin: 0;
      }

      main {
        width: 700px;
        margin: 0 auto;
        position: relative;
        z-index: 2;
      }

      .back {
        position: absolute;
        top: 0px;
        height: 530px;
        right: 0;
        left: 0;
        background: #383837;
        z-index: 1;
      }

      .row {
        margin-top: 200px;
        display: table;
      }

      .col {
        width: 50%;
        display: table-cell;
        padding: 10px 40px;
      }

      a {
        color: #999;
        text-decoration: none;
        border-bottom: 1px solid #eaeaea;
      }

      a:hover {
        border-bottom: 1px solid #999;
      }

      img {
        margin: 0 auto;
        display: block;
      }

      h1, h2 {
        text-transform: uppercase;
        text-align: center;
      }

      h1 {
        font: 26px 'Source Code Pro', monospace;
        font-weight: 700;
        letter-spacing: 1px;
        margin-top: 50px;
      }

      h2 {
        font: 18px 'Source Code Pro', monospace;
        font-weight: 500;
        letter-spacing: 1px;
        padding: 15px;
        margin: 40px 0 30px 0;
        border-bottom: 1px solid black;
        border-top: 1px solid black;
      }
      p {
        margin: 40px 0;
      }

      p.center {
        text-align: center;
      }

      p.large {
        font-size: 24px;
        letter-spacing: 2px;
        font-weight: 800;
      }

      p.large i {
        color: white;
      }

      ul {
        list-style: none;
        line-height: 24px;
        padding: 0;
      }

      li {
        margin-bottom: 20px;
        text-align: center;
      }

      li:after {
        display: block;
        content: "â€”";
        margin-top: 0px;
        font-size: 12px;
        color: #999;
      }

      pre {
        padding: 0 30px;
        background-color: #f8f8f8;
        border-bottom: 1px solid #999;
      }

      pre code {
        padding: 0;
        border: 0;
      }

      code {
        font: 16px 'Inconsolata', monospace;
        padding: 8px;
        background-color: #f8f8f8;
      }

      i {
        color: #adadad;
      }
    </style>
  </head>

  <body>
    <div class="back"></div>

    <main>
      <div class="wrapper">
        <img class="accent" src="drink.svg" width="150">
        <img src="tonic.svg" width="200">
        <p class="center large">
          <i>A little class for mixing behavior, layout, and style.</i>
        </p>

        <div class="row">
          <div class="col">
            <ul>
              <li>Qucikly read and understand the whole module, ~100 lines.</li>
              <li>React-like component composition.</li>
              <li>One-way binding. Pipe data though connected components.</li>
            </ul>
          </div>
          <div class="col">
            <ul>
              <li>Evented, single source dispatch. No event rebinding.</li>
              <li>Routing agnostic (not all UIs are intended to run in a browser).</li>
              <li>Server and client side rendering.</li>           
            </ul>
          </div>
        </div>

        <pre><code>
class Box extends Tonic {
  <i>//
  // You can listen to any valid dom event by creating a method
  // with the corresponding name. The method will receive the
  // event object and <b>target</b> will be whatever was clicked on
  // inside the component.
  //</i>
  mouseover (e) {
    const r = Math.random().toString(16).slice(2, 8)
    e.target.style.backgroundColor = r
  }

  mouseout (e) {
    e.target.style.backgroundColor = 'fff'
  }

  <i>//
  // Render <b>must return one root element</b> (which can contain as
  // many elements as you want). The root must have ${this.id}
  // if you want to listen to dom or lifecycle events.
  //</i>
  render (props) {
    return `
      &lt;div ${this.id} style="${this.style}"&gt;
        Box (${props.n})
      &lt;/div&gt;
    `
  }
}

const box = new Box()</code>

</pre>

        <pre><code>
class BoxContainer extends Tonic {
  <i>//
  // A constructor is not required.
  //</i>
  constructor (props) {
    super(props)

    <i>//
    // An example of adding some styles. Examine the
    // render function for how they are used.
    //</i>
    this.style = `
      border: 1px solid blue;
      height: 200px;
      width: 200px;
    `
  }

  <i>//
  // The <b>mount</b> event is fired once the root element is attached
  // to the dom.
  //</i>
  mount (el) {
    console.log('Mounted! The dom node is ready to use.')
  }

  click (e) {
    <i>//
    // Set state on a component instance or on this instance,
    // ie, setProps() will cause a cascading re-render.
    //</i>
    box.setProps({ n: Math.random().toString(16).slice(2, 4) })
  }

  <i>//
  // Calling the render method of a component will return its
  // html.
  //</i>
  render (props) {
    return `
      &lt;div ${this.id} style="${this.style}"&gt;
        Container ${box.render(props)}
      &lt;/div&gt;
    `
  }
}</code>

</pre>

        <p class="center">Components can be attached to any node.</p>
        <pre><code>
<i>//
// Your app may create and attach one or more components
// to any node at any time.
//</i>
const container = new BoxContainer({ n: 100 })
container.insert(document.body)</code>

</pre>

        <p class="center">The render method will return a string.</p>
        <pre><code>
http.createServer((req, res) => {
  const container = new BoxContainer({ n: 100 })
  res.end(container.render())
})</code>

</pre>

      </div>
      <p class="center">More details on <a href="https://github.com/hxoht/tonic">Github</a></p>
    </main>
  </body>
</html>
